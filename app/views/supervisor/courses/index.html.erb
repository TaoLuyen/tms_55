<h1><%= t "supervisor.courses.index.title" %></h1>
<div>
  <%= link_to t(". new_course"), new_supervisor_course_path,
    class: "btn btn-primary" %>
</div>
</br>

<table id = "tbl_lscourse">
  <thead>
    <tr>
      <th><%= t "aplication.model.course.name" %></th>
      <th><%= t "aplication.model.course.start_date" %></th>
      <th><%= t "aplication.model.course.end_date" %></th>
      <th><%= t "aplication.model.course.status" %></th>
      <th><%= t "aplication.model.course.action" %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <% @courses.each do |course| %>
    <tr>
      <td><%= course.name %></td>

      <td><%= course.start_date %></td>
      <td><%= course.end_date %></td>

      <td>
        <% if course.pending? %>
          <%= form_for [:supervisor, course] do |f| %>
            <%= f.hidden_field :status, value: :starting %>
            <%= f.submit t("supervisor.courses.index.start"),
              class: "btn btn-success col-md-8" %>
          <% end %>
        <% elsif course.starting? %>
          <%= form_for [:supervisor, course] do |f| %>
            <%= f.hidden_field :status, value: :finished %>
            <%= f.submit t("supervisor.courses.index.finished"),
              class: "btn btn-danger col-md-8" %>
          <% end %>
        <% else %>
          <span class="label label-default"><%= t "supervisor.courses.index.finished" %>
          </span>
        <% end %>
      </td>

<!-- ket thuc status -->

      <td>
        <div class="dropdown">
          <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
          <span class="caret"></span></button>
          <ul class="dropdown-menu">
            <li>
              <%= link_to t("aplication.button.show"),
                supervisor_course_path(course) %>
            </li>
            <li>
              <%= link_to t("supervisor.user_courses.add_trainee"),
                edit_supervisor_course_assign_trainees_path(course) %>
            </li>
            <li><%= link_to t("aplication.button.show_trainee"), "#" %></li>
            <li>
              <%= link_to t("supervisor.user_courses.add_supervisor"),
                edit_supervisor_course_assign_trainers_path(course) %>
            </li>
          </ul>
        </div>
      </td>
      <td>
        <%= link_to t("aplication.button.show"),
          supervisor_course_path(course) %>
      </td>
      <td>
        <%= link_to t("aplication.button.edit"),
          edit_supervisor_course_path(course) %>
      </td>
      <td><%= link_to t(". destroy"), supervisor_course_path(course),
        method: :delete, data: {confirm: t("aplication.general.confirm")} %></td>
    </tr>
  <% end %>
</table>
<br>
<%= will_paginate %>
